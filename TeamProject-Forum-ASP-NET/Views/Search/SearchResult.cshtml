@using PagedList
@using PagedList.Mvc

@model IPagedList<TeamProject_Forum_ASP_NET.Entities.Question>

@{
    ViewBag.Title = "SearchResult";
}

<h2>Search Results</h2>

<div class="container">
    <div class="row">
        @if (Model.Count == 0)
        {
            <h2>No Results Were Found</h2>

            @Html.ActionLink("Back", "Search", "Search", null, new { @class = "btn btn-success" })
        }
        else
        {
            foreach (var question in Model)
            {
                <div class="col-sm-offset-2 col-sm-8">
                    <article>
                        <header>
                            <h2>
                                @Html.ActionLink(@question.Title, "ViewAnswers", "Question", new { @id = question.Id }, null)
                            </h2>
                        </header>
                        <footer>
                            <small>
                                --author @question.Author.UserName
                            </small>
                            <small>--posted on @question.DateAdded</small>
                            <small>-- @question.ViewCount Views</small>
                            <small>-- @question.Answers.Count Answers</small>
                            <div>
                                @foreach (var tag in question.Tags)
                                {
                                    <span>@Html.ActionLink(tag.Name, "ListQuestionsByTag", "Tag", new { @id = tag.Id }, new { @class = "btn btn-default btn-xs" })</span>
                                }
                            </div>
                        </footer>
                    </article>
                </div>
            }
        }
    </div>
    <div class="row col-sm-offset-2">
        @Html.PagedListPager(Model, page => Url.Action("SearchResults", new { page }),
               new PagedListRenderOptions() { Display = PagedListDisplayMode.IfNeeded })
    </div>
</div>